# 送信コマンド仕様

通信速度は115200bps 改行文字はCRLFが規定  
ターミナルソフトやAD7SGPR シリアル通信Webアプリより送信してください。

## 目次

- [送信コマンド仕様](#送信コマンド仕様)
  - [送信コマンド一覧](#送信コマンド一覧)
  - [セグメントの制御について](#セグメントの個別制御について)
- [エラーコード内容](#エラーコード内容)


## 送信コマンド一覧

| コード              | 機能                                                                                            |
| ------------------- | ----------------------------------------------------------------------------------------------- |
| 英数字・記号(ASCII) | 受信した英数字・記号を7セグディスプレイに表示します。(最大8桁まで、「.」は1つまで)              |
| @CLR                | ディスプレイをクリアします。                                                                    |
| @ANI[数字0-2]       | ディスプレイのアニメーションを設定します。<br>@ANI0 アニメなし<br>@ANI1 数字スロット風アニメ<br>@ANI2 セグメントぐるぐるアニメ |
| @7SG[数字0,1]       | ディスプレイの表示モードを設定します。<br>@7SG0 ディスプレイ非表示<br>@7SG1 ディスプレイを表示<br>7セグの表示はされないだけでAD7SGPRから応答は返ってきます |
| @BRI[数字0-7]       | ディスプレイの輝度を設定します。@BRI の後に 0 から 7 の数字をつけて輝度を設定します。例：@BRI5     |
| @BRR                | 現在のディスプレイの輝度を返します。                                                            |
| @HEX[??*8桁]        | 16進数のデータで8桁のセグメントを個別に制御します。?HEX の後に 16桁の16進数をつけて表示します。  例：@HEXFFFFFFFFFFFFFFFFを送信すると、「8.8.8.8.8.8.8.8.」<br>@HEX0000000000000080を送信すると、「       .」<br>@HEX00000000000000FFを送信すると、「       8.」<br>@HEXFF00000000000000を送信すると、「8.       」<br>以下「セグメントの個別制御について」を参照 |

## セグメントの個別制御について
(@HEXコマンド)

![セグメント割当](https://github.com/bit-trade-one/AD7SGPR-SCWA/assets/85532743/ef28a74a-37e0-4872-a17f-20ae382e3b21)

| @HEX用16進数 | セグメント点灯       |
| ------------ | -------------------- |
| 00           | (無点灯)             |
| 01           | a                    |
| 02           | b                    |
| 03           | a, b                 |
| 04           | c                    |
| 05           | a, c                 |
| 06           | b, c                 |
| 07           | a, b, c              |
| 08           | d                    |
| 09           | a, d                 |
| 0A           | b, d                 |
| 0B           | a, b, d              |
| 0C           | c, d                 |
| 0D           | a, c, d              |
| 0E           | b, c, d              |
| 0F           | a, b, c, d           |
| 10           | e                    |
| ...          | ...                  |
| 7F           | a, b, c, d, e, g     |
| 80           | PD (decimal point)   |
| 81           | a, PD                |
| 82           | b, PD                |
| 83           | a, b, PD             |
| 84           | c, PD                |
| ...          | ...                  |
| FE           | a, b, c, d, e, g, PD |
| FF           | a, b, c, d, e, f, g, PD |

## エラーコード内容

| エラーコード | エラー内容                                                        |
| ------------ | ----------------------------------------------------------------- |
| E0           | Over receive length<br>受信文字は20文字未満にしてください         |
| E1           | Multiple dots<br>ピリオドを1個以上存在させないでください           |
| E2           | Over 8 length<br>8文字を超えてしまっているので表示できない       |
| E3           | Need 16 hex digits<br>16桁の16進数が必要                          |
| E4           | Brightness out of range<br>輝度が範囲外                           |

[前のページに戻る](README.md)
